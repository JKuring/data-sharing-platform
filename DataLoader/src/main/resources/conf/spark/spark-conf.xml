<?xml version="1.0" encoding="UTF-8"?>
<spark:beans xmlns:spark="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <spark:bean id="sparkConf" class="com.eastcom.common.bean.SparkProperties">
        <spark:property name="master" value="yarn-cluster"/>
        <spark:property name="driver_memory" value="2G"/>
        <spark:property name="num_executors" value="30"/>
        <spark:property name="executor_memory" value="2G"/>
        <spark:property name="executor_cores" value="1"/>
        <spark:property name="queue" value="root.bdoc.renter_1.renter_5.dev_75"/>
        <!--jars-->
        <!--SlsLauncher 中用到了com.eastcom.common.service.HttpRequestUtils类-->
        <spark:property name="jars"
                        value="../lib/common-1.0-SNAPSHOT.jar,../lib/datanucleus-api-jdo-3.2.6.jar,../lib/datanucleus-core-3.2.10.jar,../lib/datanucleus-rdbms-3.2.9.jar"/>
        <spark:property name="clazz" value="com.eastcom.dataloader.SlsLauncher"/>
        <spark:property name="paropertiesMap">
            <spark:map key-type="java.lang.String" value-type="java.lang.String">
                <spark:entry key="spark.task.maxFailures" value="10"/>
                <spark:entry key="spark.storage.memoryFraction" value="0.3"/>
                <spark:entry key="spark.shuffle.memoryFraction" value="0.2"/>
                <spark:entry key="spark.storage.unrollFraction" value="0.6"/>
                <spark:entry key="spark.default.parallelism" value="600"/>
                <spark:entry key="spark.sql.autoBroadcastJoinThreshold" value="10485760"/>
                <spark:entry key="spark.sql.shuffle.partitions" value="600"/>
                <spark:entry key="spark.sql.broadcastTimeout" value="3600"/>
            </spark:map>
        </spark:property>
        <spark:property name="jarName" value="../data-loader-1.0-SNAPSHOT.jar"/>
    </spark:bean>

    <!--Executor Interface-->
    <spark:bean id="sparkDataLoader" name="LOAD_TABLE_SPARK" class="com.eastcom.dataloader.service.SparkDataLoader"/>

</spark:beans>